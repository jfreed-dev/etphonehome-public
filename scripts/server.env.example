# ET Phone Home MCP Server Configuration
# Copy to /etc/etphonehome/server.env and customize

# API key for authentication (generate with: openssl rand -hex 32)
# Uncomment and set to enable authentication
# ETPHONEHOME_API_KEY=your-secret-api-key-here

# Server bind address
# Use 127.0.0.1 for localhost only (recommended, use reverse proxy for external)
# Use 0.0.0.0 to listen on all interfaces (not recommended without auth)
# ETPHONEHOME_HOST=127.0.0.1

# Server port
# ETPHONEHOME_PORT=8765

# Log level (DEBUG, INFO, WARNING, ERROR)
# ETPHONEHOME_LOG_LEVEL=INFO

# Log file path (default: /var/log/etphonehome/server.log or ~/.etphonehome/logs/server.log)
# ETPHONEHOME_LOG_FILE=/var/log/etphonehome/server.log

# Maximum log file size in bytes before rotation (default: 10MB)
# ETPHONEHOME_LOG_MAX_BYTES=10485760

# Number of backup log files to keep (default: 5)
# ETPHONEHOME_LOG_BACKUP_COUNT=5

# ============================================================================
# Webhooks
# ============================================================================

# Global webhook URL for all events (leave empty to disable)
# Events: client.connected, client.disconnected, client.key_mismatch,
#         client.unhealthy, command_executed, file_accessed
# ETPHONEHOME_WEBHOOK_URL=https://your-webhook-endpoint.com/hook

# Webhook HTTP timeout in seconds (default: 10)
# ETPHONEHOME_WEBHOOK_TIMEOUT=10.0

# Maximum retry attempts for failed webhooks (default: 3)
# ETPHONEHOME_WEBHOOK_MAX_RETRIES=3

# ============================================================================
# Rate Limiting (warn-only mode - logs warnings but doesn't block requests)
# ============================================================================

# Default requests per minute limit per client (default: 60)
# ETPHONEHOME_RATE_LIMIT_RPM=60

# Default max concurrent requests per client (default: 10)
# ETPHONEHOME_RATE_LIMIT_CONCURRENT=10
